<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-post-page plugin-blog plugin-id-default">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.1.0">
<title data-rh="true">VS Code: Fix Bug in Any Extension by Rebuilding It | hm</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://papa31.github.io/hm/blog/2021/11/06/fix-bug-in-vscode-extension"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" property="og:title" content="VS Code: Fix Bug in Any Extension by Rebuilding It | hm"><meta data-rh="true" name="description" content="How to fix a bug in any VS Code extension (.vsix) by rebuilding that extension"><meta data-rh="true" property="og:description" content="How to fix a bug in any VS Code extension (.vsix) by rebuilding that extension"><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2021-11-06T20:51:21.000Z"><meta data-rh="true" property="article:author" content="https://github.com/papa31"><meta data-rh="true" property="article:tag" content="vsix,VS Code,extension"><link data-rh="true" rel="icon" href="/hm/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://papa31.github.io/hm/blog/2021/11/06/fix-bug-in-vscode-extension"><link data-rh="true" rel="alternate" href="https://papa31.github.io/hm/blog/2021/11/06/fix-bug-in-vscode-extension" hreflang="en"><link data-rh="true" rel="alternate" href="https://papa31.github.io/hm/blog/2021/11/06/fix-bug-in-vscode-extension" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/hm/blog/rss.xml" title="Feed RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/hm/blog/atom.xml" title="Feed Atom Feed">
<link rel="alternate" type="application/json" href="/hm/blog/feed.json" title="Feed JSON Feed">









<link rel="icon" href="/hm/img/docusaurus.png">
<link rel="manifest" href="/hm/manifest.json">
<meta name="theme-color" content="rgb(37, 194, 160)">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#000">
<link rel="apple-touch-icon" href="/hm/img/docusaurus.png">
<link rel="mask-icon" href="/hm/img/docusaurus.png" color="rgb(62, 204, 94)">
<meta name="msapplication-TileImage" content="/hm/img/docusaurus.png">
<meta name="msapplication-TileColor" content="#000"><link rel="stylesheet" href="/hm/assets/css/styles.8227bb1f.css">
<link rel="preload" href="/hm/assets/js/runtime~main.535ebf43.js" as="script">
<link rel="preload" href="/hm/assets/js/main.65a918d3.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="theme.common.skipToMainContent"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><nav class="navbar navbar--fixed-top navbarHideable_m1mJ"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/hm/"><div class="navbar__logo"><img src="/hm/img/logo.svg" alt="Human&amp;Machine" class="themedImage_ToTc themedImage--light_HNdA"><img src="/hm/img/logo.svg" alt="Human&amp;Machine" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">hm</b></a><a class="navbar__item navbar__link" href="/hm/docs/vs-code/snippets/all-vscode-snippets">Docs</a><a class="navbar__item navbar__link" href="/hm/courses">Courses</a><a class="navbar__item navbar__link" href="/hm/support">Support</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/hm/blog">Blog</a><a class="navbar__item navbar__link" href="/hm/showcase">Showcase</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/papa31/hm" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input type="search" id="search_input_react" placeholder="Search" aria-label="Search" class="navbar__search-input search-bar"></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_pO2u margin-bottom--md">All our posts</div><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/hm/blog/2022/11/27/install-mongodb-linux">Install MongoDB Linux</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/hm/blog/2022/05/01/install-mongodb-windows">Install MongoDB Windows</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/hm/blog/2021/11/13/from-ftp-client-to-github-action">CI evolution: From FTP client to GitHub Action</a></li><li class="sidebarItem__DBe"><a aria-current="page" class="sidebarItemLink_mo7H sidebarItemLinkActive_I1ZP" href="/hm/blog/2021/11/06/fix-bug-in-vscode-extension">VS Code: Fix Bug in Any Extension by Rebuilding It</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/hm/blog/2021/10/05/where-google-photos-hides-direct-links-to-your-uploaded-images">Where Google Photos Hides Direct Links to Your Uploaded Images</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="http://schema.org/Blog"><article itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h1 class="title_f1Hy" itemprop="headline">VS Code: Fix Bug in Any Extension by Rebuilding It</h1><div class="container_mt6G margin-vert--md"><time datetime="2021-11-06T20:51:21.000Z" itemprop="datePublished">November 6, 2021</time> · <!-- -->7 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/papa31" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/papa31.png" alt="papa31"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/papa31" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">papa31</span></a></div></div></div></div></div></header><div id="post-content" class="markdown" itemprop="articleBody"><p>In this article, I show you how to rebuild a <code>VS-Code extension</code> using the <code>SFTP</code> extension as an example.</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="sftp-extension"><code>SFTP</code> extension<a class="hash-link" href="#sftp-extension" title="Direct link to heading">​</a></h2><p>Let&#x27;s say you are using a nice extension, but you want to add some functionality or fix a bug.</p><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_S0QG"><p><code>SFTP</code> extension syncs your local directory with a remote server directory, but it has an annoying bug - the <code>Upload Changed FIles</code> command does not work.</p></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="workaround-upload-changed-files-bug">Workaround <code>Upload Changed Files</code> Bug<a class="hash-link" href="#workaround-upload-changed-files-bug" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1-clone-or-fork-of-an-extension-repo">1. Clone or fork of an extension repo<a class="hash-link" href="#1-clone-or-fork-of-an-extension-repo" title="Direct link to heading">​</a></h3><p>Clone or fork this repo (this is a fork of the wandway repo (and this is a fork of the liximomo repo)): <a href="https://github.com/soul-core/vscode-sftp" target="_blank" rel="noopener noreferrer" class="external">github.com: vscode-sftp</a>.</p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p>Use any terminal (I used PowerShell or Git-Bash on Windows; and Konsole on MX Linux).</p></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="2-install-latest-stable-node">2. Install latest stable node<a class="hash-link" href="#2-install-latest-stable-node" title="Direct link to heading">​</a></h3><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>Skip this step if you have installed the last stable version of node.</p></div></div><p>Open the folder where you cloned the <code>vscode-sftp</code> extension and, on Windows (make sure you install the <a href="/hm/blog/2021/09/19/nvs-one-node-version-per-terminal-in-windows">nvs</a> - equivalent to <a class="external" href="/hm/docs/node/nvm-per-project-folder">nvm</a>), run:</p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">nvs</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>You should see a menu with node versions. Select the node version: 17.0.1 (if you do not see this node version, choose <code>Download another version</code> menu item and install it).</p><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_S0QG"><p>On Linux, you can work with any of a node version older than 10. Just use <a href="/hm/docs/node/nvm-per-project-folder">nvm</a>.</p></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="3-install-extension-dependencies">3. Install extension dependencies<a class="hash-link" href="#3-install-extension-dependencies" title="Direct link to heading">​</a></h3><p>After installing the required node version, run the command:</p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> npm i</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This command should install all the extension dependencies.</p><div class="theme-admonition theme-admonition-warning alert alert--danger admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>danger</div><div class="admonitionContent_S0QG"><p>If you are using <code>npm</code> and you get this error:</p><p><img loading="lazy" alt="npm with yarn.lock error" src="/hm/assets/images/npm-with-yarn-lock-error-b58fb07fb96b21c5f75e3ead8c079a92.png" width="835" height="291" class="img_ev3q"></p><p>Try removing the <code>yarn.lock</code> file from the root folder and running <code>npm i</code> command again.</p></div></div><div class="theme-admonition theme-admonition-caution alert alert--warning admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</div><div class="admonitionContent_S0QG"><p>Everytime you rerun the <code>npm i</code> command, you must delete <code>node_modules</code> folder and <code>package-lock.json</code> file.</p></div></div><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p>If you can&#x27;t rebuild an extension on Windows, try doing the same on Linux (you can rebuild an extension on Linux and use it later on Windows). In my case, it was so. Until I installed the latest stable version of node using <a href="/hm/blog/2021/09/19/nvs-one-node-version-per-terminal-in-windows">nvs</a> on my Windows machine.</p></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="4-fix-sftp-extension-bug">4. Fix <code>SFTP</code> extension bug<a class="hash-link" href="#4-fix-sftp-extension-bug" title="Direct link to heading">​</a></h3><p>Let&#x27;s make <code>Upload changed files</code> command visible.</p><p>Open <code>VS-Code</code> editor from terminal from extention root folder with command:</p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">code .</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Locate the <code>package.lock</code> file in the extension root folder, open it in <code>VS Code</code> editor and find these two lines:</p><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token property" style="color:#36acaa">&quot;command&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;sftp.upload.changedFiles&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#393A34"><span class="token plain">          </span><span class="token property" style="color:#36acaa">&quot;when&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;false&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Replace the last line above with the last line below:</p><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token property" style="color:#36acaa">&quot;command&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;sftp.upload.changedFiles&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#393A34"><span class="token plain">          </span><span class="token property" style="color:#36acaa">&quot;when&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;sftp.enabled&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="5-add-sftp-extension-functionality">5. Add <code>SFTP</code> extension functionality<a class="hash-link" href="#5-add-sftp-extension-functionality" title="Direct link to heading">​</a></h3><p>Let&#x27;s add keyboard shortcut to the <code>Upload changed files</code> command.</p><p>Add this highlighted block before the <code>jsonValidation</code> line (or wherever it is correct) in the <code>package.lock</code> file:</p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#393A34"><span class="token plain">    &quot;keybindings&quot;: [</span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#393A34"><span class="token plain">      {</span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#393A34"><span class="token plain">        &quot;command&quot;: &quot;sftp.upload.changedFiles&quot;,</span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#393A34"><span class="token plain">        &quot;key&quot;: &quot;ctrl+alt+u&quot;,</span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#393A34"><span class="token plain">        &quot;when&quot;: &quot;sftp.enabled&quot;</span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#393A34"><span class="token plain">      }</span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;jsonValidation&quot;: [</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Save the <code>package.lock</code> file.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="6-avoiding-compiler-error">6. Avoiding compiler error<a class="hash-link" href="#6-avoiding-compiler-error" title="Direct link to heading">​</a></h3><p>When compiling an extension, you may receive a <code>Can&#x27;t resolve &#x27;minimal&#x27;</code> error. To avoid this error, replace this line in the <code>./.vscode/tasks.json</code> file:</p><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token number" style="color:#36acaa">23</span><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;args&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;run&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;dev&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;--&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;--display&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;minimal&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>with:</p><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token number" style="color:#36acaa">23</span><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;args&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;run&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;dev&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="7-launch-the-extension-in-dev-mode">7. Launch the extension in dev mode<a class="hash-link" href="#7-launch-the-extension-in-dev-mode" title="Direct link to heading">​</a></h3><p>Press <code>F5</code> in VS Code (let&#x27;s call that VS-Code window - parent window). This will compile and run the extension in a new <code>Extension Development Host</code> window.</p><p><img loading="lazy" alt="Host and Parent windows" src="/hm/assets/images/host-and-parent-windows-c2fbd3022c889fe8fbe8581d2716b8ac.png" width="1249" height="851" class="img_ev3q"></p><div class="theme-admonition theme-admonition-caution alert alert--warning admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</div><div class="admonitionContent_S0QG"><p>Make sure you uninstall the installed instance of the <code>sftp</code> extension, otherwise you will run two copies of this extension and cause a conflict.</p></div></div><p>Wait for сompilation to stop.</p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p>To verify that the compilation was successful, run the command <code>Tasks: Show Running Tasks</code> in the Command Palette (Ctrl+Shift+P) in the parent VS-Code window.</p></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="8-open-your-project-to-test-uploading">8. Open your project to test uploading<a class="hash-link" href="#8-open-your-project-to-test-uploading" title="Direct link to heading">​</a></h3><p>In the <code>Extension Development Host</code> window that opens, open the folder with your local project (via the <code>File</code> menu), which you want to connect to the remote server:</p><p><img loading="lazy" alt="File Menu in new Extension Development Host window" src="/hm/assets/images/extension-development-host-window-open-folder-b8346f2237e6a78fb3be07b71746939b.png" width="1024" height="768" class="img_ev3q"></p><div class="theme-admonition theme-admonition-caution alert alert--warning admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</div><div class="admonitionContent_S0QG"><p>If you have opened this project folder in another VS-Code window, close it and try to open it again from the <code>Extension Development Host</code> window.</p></div></div><p>If you already have the <code>sftp.json</code> config file, you should see the <code>sftp</code> extension icon in the Activity bar:</p><p><img loading="lazy" alt="icon-vscode-sftp-extension" src="/hm/assets/images/icon-vscode-sftp-extension-7f93559ffcb4fc2b3992ea7750d0ae24.png" width="1024" height="768" class="img_ev3q"></p><p>And then you can skip the next two steps.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="9-create-sftp-config-file">9. Create <code>sftp</code> config file<a class="hash-link" href="#9-create-sftp-config-file" title="Direct link to heading">​</a></h3><p>If you don&#x27;t have an <code>sftp.json</code> config file, press <code>F1</code> or <code>Ctrl+Shift+P</code> to open Command Palette and enter the command:</p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">SFTP: Config</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>If you see this command listed, run it.</p><p>After running the <code>SFTP: Config</code> command, a new <code>sftp.json</code> config file will be created and you should see its initial content:</p><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">sftp.json</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;name&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;My Server&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;host&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;localhost&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;protocol&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;sftp&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;port&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">22</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;username&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;username&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;remotePath&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;/&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;uploadOnSave&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>At the same time, you should see the <code>sftp</code> extension icon in the Activity bar:</p><p><img loading="lazy" alt="icon-vscode-sftp-extension" src="/hm/assets/images/icon-vscode-sftp-extension-7f93559ffcb4fc2b3992ea7750d0ae24.png" width="1024" height="768" class="img_ev3q"></p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="10-setup-your-sftp-connection">10. Setup your sftp connection<a class="hash-link" href="#10-setup-your-sftp-connection" title="Direct link to heading">​</a></h3><p>Populate the <code>sftp.json</code> using your host credentials as so:</p><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">sftp.json</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;name&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;does-not-matter&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// any name</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;host&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;my-host.com&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// the name of your remote host</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;protocol&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;sftp&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;port&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">22</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;username&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;my-username&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// login</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;remotePath&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;/home/my-username/&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// root your remote host</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;uploadOnSave&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p>You can optionally use <code>ssh-agent</code> and the keys pair (two files) generated with <code>ssh-keygen</code> to connect to remote host. Read about <a href="http://mah.everybody.org/docs/ssh" target="_blank" rel="noopener noreferrer" class="external">using ssh-agent with ssh</a>.</p></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="11-test-upload-changed-files-command">11. Test <code>Upload Changed Files</code> command<a class="hash-link" href="#11-test-upload-changed-files-command" title="Direct link to heading">​</a></h3><p>Make sure you are in the Extension Development Host window.</p><p>Change some file and save it.</p><p>Press <code>F1</code> or <code>Ctrl+Shift+P</code> to open Command Palette and type:</p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">SFTP: Upload Changed Files</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>You should see this command in the list of SFTP commands:</p><p><img loading="lazy" alt="Upload changing files" src="data:image/png;base64,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" width="610" height="126" class="img_ev3q"></p><p>Try using the <code>Upload Changed Files</code> command with the <code>Ctrl+Alt+U</code> keyboard shortcut.</p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p>To see the result of your action, open <code>sftp</code> output window by pressing <code>sftp</code> button:</p><p><img loading="lazy" alt="sftp button" src="/hm/assets/images/sftp-button-bdd4181024ed50dd3611cfee87267ac5.png" width="1024" height="768" class="img_ev3q"></p></div></div><p>After running the <code>Upload Changed Files</code> command, you should see many, many lines after the <code>run command &#x27;Upload Changed Files&#x27;</code> line in the log output:</p><p><img loading="lazy" alt="uploading check is ok" src="/hm/assets/images/check-uploading-ok-9c89d3a6a331d5e08e332c1e2d4c8a3f.png" width="599" height="478" class="img_ev3q"></p><p>If you see only one line, then the command is not working:</p><p><img loading="lazy" alt="uploading check failed" src="/hm/assets/images/check-uploading-failed-b1ba1cbe94ed2cc21a6d9b017a7f3d9b.png" width="731" height="350" class="img_ev3q"></p><div class="theme-admonition theme-admonition-warning alert alert--danger admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>danger</div><div class="admonitionContent_S0QG"><p>If the <code>Upload Changed File</code> command does not work, remove the <code>dist</code> folder from the extension root and run compilation again. If that doesn&#x27;t help, make sure you are using the last stable version of node. And maybe start from the beggining. If nothing helps, download my finished build file: <a href="https://github.com/soul-core/vscode-sftp/raw/master/sftp-workaround-upload-bug.vsix" target="_blank" rel="noopener noreferrer" class="external">github.com: sftp-workaround-upload-bug.vsix</a> and skip to step 14.</p></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="12-prepare-build-script">12. Prepare build script<a class="hash-link" href="#12-prepare-build-script" title="Direct link to heading">​</a></h3><p>If the <code>Upload Changed File</code> command works, you can start rebuilding the <code>sftp</code> extension.</p><p>Let&#x27;s simplify the build script first. Close Extension Development Host window, open <code>package.lock</code> file again and locate the <code>scripts</code> block. Find the <code>pub:debug</code> script:</p><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;scripts&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;vscode:prepublish&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;npm run compile&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;compile&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;webpack --mode production&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;dev&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;webpack --mode development --watch&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;test&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;jest&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;package&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;vsce package&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;pub:debug&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;rm -rf _debug &amp;&amp; mkdir _debug &amp;&amp; vsce package --out _debug/sftp-debug.vsix &amp;&amp; cd _debug &amp;&amp; git init &amp;&amp; git commit --allow-empty -m &#x27;update debug package&#x27; &amp;&amp; git checkout -b debug-pacakge &amp;&amp; cp ../INSTALL_DEBUG.md README.md  &amp;&amp; git add . &amp;&amp; git commit -am &#x27;update debug package&#x27; &amp;&amp; git push git@github.com:liximomo/vscode-sftp.git debug-pacakge --force&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Replace the last <code>pub:debug</code> script with <code>build</code> one (see below):</p><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;scripts&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;vscode:prepublish&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;npm run compile&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;compile&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;webpack --mode production&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;dev&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;webpack --mode development --watch&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;test&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;jest&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;package&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;vsce package&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;build&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;vsce package --no-yarn --out sftp-workaround-upload-bug.vsix&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="theme-admonition theme-admonition-caution alert alert--warning admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</div><div class="admonitionContent_S0QG"><p>If you are using <code>yarn</code> instead of <code>npm</code>, remove <code>--no-yarn</code> option from the <code>build</code> script above.</p></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="13-build-vsix-extension">13. Build <code>.vsix</code> extension<a class="hash-link" href="#13-build-vsix-extension" title="Direct link to heading">​</a></h3><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_S0QG"><p>Make sure you already install the <code>Visual Studio Code Extension(vsce)</code> manager:</p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">npm i -g vsce</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div><p>Make a new build of the <code>sftp</code> extension using the <code>build</code> script:</p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">npm run build</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>If everything is ok, you&#x27;ll see the green <code>DONE</code> label in your terminal:</p><p><img loading="lazy" alt="build done" src="/hm/assets/images/build-done-vsce-a4a15e0b71c68301f5576030d25acaac.png" width="835" height="247" class="img_ev3q"></p><p>You have just created the <code>sftp-workaround-upload-bug.vsix</code> file in the root folder of the <code>sftp</code> extension.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="14-install-vsix-extension">14. Install <code>.vsix</code> extension<a class="hash-link" href="#14-install-vsix-extension" title="Direct link to heading">​</a></h3><p>Open <code>VS-Code</code>, press <code>F1</code> and enter the command in Command Palette:</p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Extension: Install from VSIX...</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Press Enter.</p><p>Locate the <code>.vsix</code> file in the dialog box and press <code>Install</code> button.</p><p>Enjoy!</p></div><footer class="row docusaurus-mt-lg blogPostFooterDetailsFull_mRVl"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/hm/blog/tags/vsix">vsix</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/hm/blog/tags/vs-code">VS Code</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/hm/blog/tags/extension">extension</a></li></ul></div><div class="col margin-top--sm"><a href="https://github.com/papa31/hm/edit/documentation/blog/2021-11-06-fix-bug-in-vscode-extension/index.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/hm/blog/2021/11/13/from-ftp-client-to-github-action"><div class="pagination-nav__sublabel">Newer Post</div><div class="pagination-nav__label">CI evolution: From FTP client to GitHub Action</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/hm/blog/2021/10/05/where-google-photos-hides-direct-links-to-your-uploaded-images"><div class="pagination-nav__sublabel">Older Post</div><div class="pagination-nav__label">Where Google Photos Hides Direct Links to Your Uploaded Images</div></a></nav></main><div class="col col--2"><div class="tableOfContents_bqdL thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#sftp-extension" class="table-of-contents__link toc-highlight"><code>SFTP</code> extension</a></li><li><a href="#workaround-upload-changed-files-bug" class="table-of-contents__link toc-highlight">Workaround <code>Upload Changed Files</code> Bug</a><ul><li><a href="#1-clone-or-fork-of-an-extension-repo" class="table-of-contents__link toc-highlight">1. Clone or fork of an extension repo</a></li><li><a href="#2-install-latest-stable-node" class="table-of-contents__link toc-highlight">2. Install latest stable node</a></li><li><a href="#3-install-extension-dependencies" class="table-of-contents__link toc-highlight">3. Install extension dependencies</a></li><li><a href="#4-fix-sftp-extension-bug" class="table-of-contents__link toc-highlight">4. Fix <code>SFTP</code> extension bug</a></li><li><a href="#5-add-sftp-extension-functionality" class="table-of-contents__link toc-highlight">5. Add <code>SFTP</code> extension functionality</a></li><li><a href="#6-avoiding-compiler-error" class="table-of-contents__link toc-highlight">6. Avoiding compiler error</a></li><li><a href="#7-launch-the-extension-in-dev-mode" class="table-of-contents__link toc-highlight">7. Launch the extension in dev mode</a></li><li><a href="#8-open-your-project-to-test-uploading" class="table-of-contents__link toc-highlight">8. Open your project to test uploading</a></li><li><a href="#9-create-sftp-config-file" class="table-of-contents__link toc-highlight">9. Create <code>sftp</code> config file</a></li><li><a href="#10-setup-your-sftp-connection" class="table-of-contents__link toc-highlight">10. Setup your sftp connection</a></li><li><a href="#11-test-upload-changed-files-command" class="table-of-contents__link toc-highlight">11. Test <code>Upload Changed Files</code> command</a></li><li><a href="#12-prepare-build-script" class="table-of-contents__link toc-highlight">12. Prepare build script</a></li><li><a href="#13-build-vsix-extension" class="table-of-contents__link toc-highlight">13. Build <code>.vsix</code> extension</a></li><li><a href="#14-install-vsix-extension" class="table-of-contents__link toc-highlight">14. Install <code>.vsix</code> extension</a></li></ul></li></ul></div></div></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/hm/docs/vs-code/snippets/all-vscode-snippets">vscode snippets</a></li><li class="footer__item"><a class="footer__link-item" href="/hm/docs/vs-code/all-vscode-keyboard-shortcuts">vscode shortcuts</a></li><li class="footer__item"><a class="footer__link-item" href="/hm/docs/digital-design/exercises/exercises-131-160">Exercises 1.31-1.60</a></li><li class="footer__item"><a class="footer__link-item" href="/hm/docs/vs-code/macros/2-auto-frontmatter">updateAutoFrontmatter</a></li></ul></div><div class="col footer__col"><div class="footer__title">Courses</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/hm/courses/react-complete-guide">React Complete Guide (Hooks, React Router, Redux)</a></li></ul></div><div class="col footer__col"><div class="footer__title">Support</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/hm/support">TEST</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/HumanMachine" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discordapp.com/invite/HumanMachine" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/HumanMachine" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/hm/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/papa31/hm" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 Human and Machine</div></div></div></footer></div>
<script src="/hm/assets/js/runtime~main.535ebf43.js"></script>
<script src="/hm/assets/js/main.65a918d3.js"></script>
</body>
</html>