"use strict";(self.webpackChunkhuman_and_machine=self.webpackChunkhuman_and_machine||[]).push([[82152],{3905:(e,t,n)=>{n.d(t,{Zo:()=>d,kt:()=>c});var i=n(67294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,i,a=function(e,t){if(null==e)return{};var n,i,a={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var s=i.createContext({}),p=function(e){var t=i.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},d=function(e){var t=p(e.components);return i.createElement(s.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},u=i.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,s=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),u=p(n),c=a,k=u["".concat(s,".").concat(c)]||u[c]||m[c]||o;return n?i.createElement(k,r(r({ref:t},d),{},{components:n})):i.createElement(k,r({ref:t},d))}));function c(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,r=new Array(o);r[0]=u;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:a,r[1]=l;for(var p=2;p<o;p++)r[p]=n[p];return i.createElement.apply(null,r)}return i.createElement.apply(null,n)}u.displayName="MDXCreateElement"},66150:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>r,default:()=>m,frontMatter:()=>o,metadata:()=>l,toc:()=>p});var i=n(87462),a=(n(67294),n(3905));const o={id:"partitioning-new-disk",title:"Partitioning a New Disk"},r=void 0,l={unversionedId:"new-disk/partitioning-new-disk",id:"new-disk/partitioning-new-disk",title:"Partitioning a New Disk",description:"If you bought new disk you need to partition it and install OS in one of these partitions. I have 512Gb NVMe disk.",source:"@site/docs/new-disk/partitioning-new-disk.md",sourceDirName:"new-disk",slug:"/new-disk/partitioning-new-disk",permalink:"/hm/docs/new-disk/partitioning-new-disk",draft:!1,editUrl:"https://github.com/papa31/hm/edit/documentation/docs/new-disk/partitioning-new-disk.md",tags:[],version:"current",lastUpdatedBy:"PaPa31",lastUpdatedAt:1636195974,formattedLastUpdatedAt:"Nov 6, 2021",frontMatter:{id:"partitioning-new-disk",title:"Partitioning a New Disk"},sidebar:"Docs",previous:{title:"New Windows Setup",permalink:"/hm/docs/new-disk/new-windows-setup"},next:{title:"Setup Ventoy (Remove Win11 Check)",permalink:"/hm/docs/new-disk/setup-ventoy-remove-win11-check"}},s={},p=[{value:"Boot Configuration",id:"boot-configuration",level:2},{value:"Linux",id:"linux",level:2},{value:"Bash",id:"bash",level:3},{value:"KDE Partition Manager",id:"kde-partition-manager",level:3},{value:"Windows",id:"windows",level:2},{value:"Installation Error",id:"installation-error",level:3},{value:"Edit Partition in cmd",id:"edit-partition-in-cmd",level:3},{value:"Delete extra Windows Boot Loader",id:"delete-extra-windows-boot-loader",level:2},{value:"Helpful Commands",id:"helpful-commands",level:2},{value:"Single Windows",id:"single-windows",level:3},{value:"Multiple Windows",id:"multiple-windows",level:3}],d={toc:p};function m(e){let{components:t,...n}=e;return(0,a.kt)("wrapper",(0,i.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"If you bought new disk you need to partition it and install OS in one of these partitions. I have 512Gb NVMe disk."),(0,a.kt)("h2",{id:"boot-configuration"},"Boot Configuration"),(0,a.kt)("admonition",{title:"BIOS Setup",type:"warning"},(0,a.kt)("p",{parentName:"admonition"},"First of all, you must have a Boot Configuration like this:"),(0,a.kt)("pre",{parentName:"admonition"},(0,a.kt)("code",{parentName:"pre",className:"language-bios"}," -------- Boot (tab) -------------\n\n...\n# 1     [P0: P3-256]\n# 2     [UEFI OS (P0: P3-256)]\n# 3     [UEFI: JetFlashTranscend \u2026]\n...\n")),(0,a.kt)("pre",{parentName:"admonition"},(0,a.kt)("code",{parentName:"pre",className:"language-bios"},"HARD DRIVE BBS PRIORITIES (subsection)\n\n# 1     [P0 P3-256]\n# 2     [NE-512]\n# 3     [JetFlashTranscend ...]\n...\n")),(0,a.kt)("pre",{parentName:"admonition"},(0,a.kt)("code",{parentName:"pre",className:"language-bios"},"CSM PARAMETERS (subsection)\n\n...\nBoot option filter:            [UEFI and Legacy]\nLaunch PXE OpROM:              [UEFI only]\nLaunch storage OpROM policy:   [UEFI only]\nLaunch Video OpROM policy:     [Legacy only]\nOther PCI device ROM priority: [Legacy OpROM]\n...\n"))),(0,a.kt)("h2",{id:"linux"},"Linux"),(0,a.kt)("h3",{id:"bash"},"Bash"),(0,a.kt)("p",null,"todo"),(0,a.kt)("h3",{id:"kde-partition-manager"},"KDE Partition Manager"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Make new partiion table (select the ",(0,a.kt)("inlineCode",{parentName:"p"},"msdos")," type; Windows may not be install in the ",(0,a.kt)("inlineCode",{parentName:"p"},"gpt")," type)")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Make new partition ",(0,a.kt)("inlineCode",{parentName:"p"},"ntfs")," (size: 60Gb)")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Make another new partition ",(0,a.kt)("inlineCode",{parentName:"p"},"ntfs")," (size: remainder; with 550Mb free space after)")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Make extra partition")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Edit mount point:"),(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},"first: /mnt/sdc1"),(0,a.kt)("li",{parentName:"ul"},"second: /mnt/sdc2"))),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Apply config")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Make two dirs in bash:"),(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},"/mnt/sdc1"),(0,a.kt)("li",{parentName:"ul"},"/mnt/sdc2"))),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Edit mount point again")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Mount two new partitions with KDE Partition Manager"))),(0,a.kt)("h2",{id:"windows"},"Windows"),(0,a.kt)("h3",{id:"installation-error"},"Installation Error"),(0,a.kt)("p",null,"If you get some error during the installation:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"couldn't partition ...\n")),(0,a.kt)("admonition",{type:"caution"},(0,a.kt)("p",{parentName:"admonition"},(0,a.kt)("strong",{parentName:"p"},"Rufus:")," Add a ",(0,a.kt)("inlineCode",{parentName:"p"},"600 mb partition")," in rufus settings")),(0,a.kt)("admonition",{title:"Change Disk Order in BIOS",type:"caution"},(0,a.kt)("p",{parentName:"admonition"},(0,a.kt)("strong",{parentName:"p"},"Ventoy:")," If you have multiple SSD, HDD or NVMe disks or mix from them, you, first of all, must set the order to the disk, where you want to install Windows, right after the the LIVE CD flash.")),(0,a.kt)("p",null,"Do it right inside Windows installer:"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"Press Shif + F10 (opens command line terminal)"),(0,a.kt)("li",{parentName:"ol"},"(in the command line terminal) type following commands:")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-cmd",metastring:'title="cmd"',title:'"cmd"'},"diskpart\nlist disk\nselect disk 2      # where you want to install windows\nclean\ncreate partition primary size=60000      # or another size\nformat fs=ntfs quick\nassign\nactive\nlist volume\nexit\n")),(0,a.kt)("p",null,"and enter to the windows install process again. Your partition be signed as a system type."),(0,a.kt)("h3",{id:"edit-partition-in-cmd"},"Edit Partition in cmd"),(0,a.kt)("p",null,"If you want edit a partition:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-cmd"},"list partition\nselect partition\n\ndisk 0 clean     # partition number for Windows installation\ndisk 0 create partition primary\ndisk 0 active\ndisk 0 format fs=ntfs quick\ndisk 0 assign\n")),(0,a.kt)("h2",{id:"delete-extra-windows-boot-loader"},"Delete extra Windows Boot Loader"),(0,a.kt)("p",null,"If you see two versions of Windows when booting you need to delete one of the Windows Boot Loaders:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"bcdedit /delete {7ca97355-3bf6-11eb-95ba-ac7b2907d2c6}\n")),(0,a.kt)("p",null,"With ",(0,a.kt)("inlineCode",{parentName:"p"},"id")," another one Windows Boot Loader."),(0,a.kt)("admonition",{title:"update-grub",type:"info"},(0,a.kt)("p",{parentName:"admonition"},"Needs to do if you see two entries of Windows on grub menu when booting")),(0,a.kt)("h2",{id:"helpful-commands"},"Helpful Commands"),(0,a.kt)("p",null,"If installed Windows don't want start..."),(0,a.kt)("h3",{id:"single-windows"},"Single Windows"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"bootrec /fixmbr\nbootrec /fixboot\nbootrec /scanos\nbootrec /rebuildbcd\n")),(0,a.kt)("p",null,"restart"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-shell"},"bcdboot c:\\windows /s c: /l en-us\n")),(0,a.kt)("h3",{id:"multiple-windows"},"Multiple Windows"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"diskpart\nlist volume\n")),(0,a.kt)("p",null,"select with ",(0,a.kt)("inlineCode",{parentName:"p"},"system")," type"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"select volume ?\nassign letter=z\nexit\n")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"bcdboot c:\\windows \\s z: /f all\n")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"bcdboot c:\\windows /s z: /f uefi\n")))}m.isMDXComponent=!0}}]);