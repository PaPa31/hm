"use strict";(self.webpackChunkhuman_and_machine=self.webpackChunkhuman_and_machine||[]).push([[31263],{85003:(e,t,s)=>{s.r(t),s.d(t,{default:()=>b});var n=s(67294);const l="Toggler_pa2N",a="red_GTuG",o="bold_GcTT",r="Red_V2hM";s(9669);const u={Bus:"Bus_plMy"},c="BusRoutes_p9Xz",i=e=>{function t(e){let{p:t}=e;return n.createElement("tr",null,n.createElement("td",null,t))}return n.createElement("div",{className:c},e.polReisa>0&&"tuda"===e.dir?n.createElement("p",null,e.name,":"):n.createElement("p",null,"\u0421\u0430\u0434\u044b:"),n.createElement("table",null,n.createElement("tbody",null,e.polReisa>0&&"tuda"===e.dir?e.tudaObratno.map(((s,l)=>l<e.polReisa/2?n.createElement(t,{key:l,p:s}):null)):e.tudaObratno.map(((s,l)=>l>=e.polReisa/2?n.createElement(t,{key:l,p:s}):null)))))},m=n.memo(i);class d extends n.Component{constructor(){super(...arguments),this.state={buses:[],selectedBus:null,normUrl:"https://raw.githubusercontent.com/PaPa31/hm/documentation/static/_rasp"}}componentDidMount(){this.props.num&&(!this.state.selectedBus||this.state.selectedBus&&this.state.selectedBus.id!==this.props.num)&&async function(e){let t=(await(await fetch(e)).text()).match(/<p.*/g).map((e=>e.replace(/.*>([^<\r]*)<.*/g,"$1").trim()));return console.log("p = "+t),t}(this.state.normUrl+`${this.props.num}.html`).then((e=>this.setState({selectedBus:e})))}render(){let e=n.createElement("p",{style:{textAlign:"center"}},"Please select a Post!");if(this.props.num&&(e=n.createElement("p",{style:{textAlign:"center"}},"Loading...!")),this.state.selectedBus){const t=this.state.selectedBus.length;console.log("length = "+t);let s=0,l=[];for(let e=0;e<t;e++)/^\d/.test(this.state.selectedBus[e])&&(l[s]=this.state.selectedBus[e],s++);console.log("polReisa "+s),console.log("tudaObratno "+l);e=n.createElement("div",null,s>0?n.createElement("div",null,n.createElement("div",null,console.log("[Bus.js] REturning..."+this.state.selectedBus)),n.createElement("h1",null,this.props.num),n.createElement("div",null,n.createElement("div",{className:u.BusRoutes},n.createElement(m,{polReisa:s,dir:"tuda",name:this.props.name,tudaObratno:l}),n.createElement(m,{polReisa:s,dir:"obratno",name:this.props.name,tudaObratno:l})))):null)}return e}}const p=d,h=e=>(console.log("[Buses.js] rendering..."),e.buses.map(((e,t)=>(console.log(e.num),n.createElement(p,{key:t,num:e.num,name:e.name}))))),g={buses:[{id:"20210330005200",name:"\u041a\u043b\u0438\u0444\u0444\u043e\u0440\u0434",num:296},{id:"20220611183712",name:"\u0420\u0422\u0418",num:297},{id:"20210330005205",name:"\u041a\u043b\u0438\u0444\u0444\u043e\u0440\u0434",num:100},{id:"20210330005209",name:"\u041a\u043b\u0438\u0444\u0444\u043e\u0440\u0434",num:110}]};class E extends n.Component{constructor(e){super(e),this.state={buses:[],showBuses:!1,changeCounter:0},this.onlyBusesHandler=e=>{console.log("Hi");const t=[];g.buses.map(((s,n)=>{console.log("id = "+e),console.log("bus.id = "+s.id),e===s.id&&(console.log("Sovpalo"),t[n]=s,console.log(t))})),this.setState({buses:t});this.setState({showBuses:!0})},console.log("[Toggler/index.js] constructor")}static getDerivedStateFromProps(e,t){return console.log("[Toggler/index.js] getDerivedStateFromProps",e),t}componentDidMount(){console.log("[Toggler/index.js] componentDidMount")}render(){console.log("[Toggler/index.js] render");let e=null,t="";this.state.showBuses&&(e=n.createElement(h,{buses:this.state.buses}),t=r);const s=[];return this.state.buses.length<=2&&s.push(a),this.state.buses.length<=1&&s.push(o),n.createElement("div",{className:l},n.createElement("h1",null,"Hi, I'm a React app!"),n.createElement("p",{className:s.join(" ")},"This is really working!"),g.buses.map(((e,s)=>n.createElement("button",{key:s,className:t,onClick:()=>{this.onlyBusesHandler(e.id)}},e.num))),e)}}const b=E}}]);