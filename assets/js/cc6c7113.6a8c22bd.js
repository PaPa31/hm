"use strict";(self.webpackChunkhuman_and_machine=self.webpackChunkhuman_and_machine||[]).push([[31263],{85003:function(e,t,n){n.r(t),n.d(t,{default:function(){return B}});var s=n(94578),o=n(67294),l="Toggler_pa2N",r="red_GTuG",a="bold_GcTT",u="Red_V2hM",i=n(74165),c=n(15861),m=(n(9669),{Bus:"Bus_plMy"}),d="BusRoutes_p9Xz",p=function(e){function t(e){var t=e.p;return o.createElement("tr",null,o.createElement("td",null,t))}return o.createElement("div",{className:d},e.polReisa>0&&"tuda"===e.dir?o.createElement("p",null,e.name,":"):o.createElement("p",null,"\u0421\u0430\u0434\u044b:"),o.createElement("table",null,o.createElement("tbody",null,e.polReisa>0&&"tuda"===e.dir?e.tudaObratno.map((function(n,s){return s<e.polReisa/2?o.createElement(t,{key:s,p:n}):null})):e.tudaObratno.map((function(n,s){return s>=e.polReisa/2?o.createElement(t,{key:s,p:n}):null})))))},h=o.memo(p),g=function(e){function t(){for(var t,n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(t=e.call.apply(e,[this].concat(s))||this).state={buses:[],selectedBus:null,normUrl:"https://orenburg.ru"},t}(0,s.Z)(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this;function t(){return(t=(0,c.Z)((0,i.Z)().mark((function e(t){var n;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,(n={method:"GET",mode:"no-cors",credentials:"include",headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"},withCredentials:!0},n.credentials="same-origin",n)).then((function(e){return console.log(e),e}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}this.props.num&&(!this.state.selectedBus||this.state.selectedBus&&this.state.selectedBus.id!==this.props.num)&&function(e){return t.apply(this,arguments)}(this.state.normUrl).then((function(t){return e.setState({selectedBus:t})}))},n.render=function(){var e=o.createElement("p",{style:{textAlign:"center"}},"Please select a Post!");if(this.props.num&&(e=o.createElement("p",{style:{textAlign:"center"}},"Loading...!")),this.state.selectedBus){var t=this.state.selectedBus.length;console.log("length = "+t);for(var n=0,s=[],l=0;l<t;l++)/^\d/.test(this.state.selectedBus[l])&&(s[n]=this.state.selectedBus[l],n++);console.log("polReisa "+n),console.log("tudaObratno "+s);e=o.createElement("div",null,n>0?o.createElement("div",null,o.createElement("div",null,console.log("[Bus.js] REturning..."+this.state.selectedBus)),o.createElement("h1",null,this.props.num),o.createElement("div",null,o.createElement("div",{className:m.BusRoutes},o.createElement(h,{polReisa:n,dir:"tuda",name:this.props.name,tudaObratno:s}),o.createElement(h,{polReisa:n,dir:"obratno",name:this.props.name,tudaObratno:s})))):null)}return e},t}(o.Component),f=g,E=function(e){return console.log("[Buses.js] rendering..."),e.buses.map((function(e,t){return console.log(e.num),o.createElement(f,{key:t,num:e.num,name:e.name})}))},v={buses:[{id:"20210330005200",name:"\u041a\u043b\u0438\u0444\u0444\u043e\u0440\u0434",num:296},{id:"20220611183712",name:"\u0420\u0422\u0418",num:297},{id:"20210330005205",name:"\u041a\u043b\u0438\u0444\u0444\u043e\u0440\u0434",num:100},{id:"20210330005209",name:"\u041a\u043b\u0438\u0444\u0444\u043e\u0440\u0434",num:110}]},b=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={buses:[],showBuses:!1,changeCounter:0},n.onlyBusesHandler=function(e){console.log("Hi");var t=[];v.buses.map((function(n,s){console.log("id = "+e),console.log("bus.id = "+n.id),e===n.id&&(console.log("Sovpalo"),t[s]=n,console.log(t))})),n.setState({buses:t});n.setState({showBuses:!0})},console.log("[Toggler/index.js] constructor"),n}(0,s.Z)(t,e),t.getDerivedStateFromProps=function(e,t){return console.log("[Toggler/index.js] getDerivedStateFromProps",e),t};var n=t.prototype;return n.componentDidMount=function(){console.log("[Toggler/index.js] componentDidMount")},n.render=function(){var e=this;console.log("[Toggler/index.js] render");var t=null,n="";this.state.showBuses&&(t=o.createElement(E,{buses:this.state.buses}),n=u);var s=[];return this.state.buses.length<=2&&s.push(r),this.state.buses.length<=1&&s.push(a),o.createElement("div",{className:l},o.createElement("h1",null,"Hi, I'm a React app!"),o.createElement("p",{className:s.join(" ")},"This is really working!"),v.buses.map((function(t,s){return o.createElement("button",{key:s,className:n,onClick:function(){e.onlyBusesHandler(t.id)}},t.num)})),t)},t}(o.Component),B=b}}]);