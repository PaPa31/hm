"use strict";(self.webpackChunkhuman_and_machine=self.webpackChunkhuman_and_machine||[]).push([[55893],{3905:function(e,n,t){t.d(n,{Zo:function(){return l},kt:function(){return m}});var r=t(67294);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function s(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function o(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?s(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function i(e,n){if(null==e)return{};var t,r,a=function(e,n){if(null==e)return{};var t,r,a={},s=Object.keys(e);for(r=0;r<s.length;r++)t=s[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)t=s[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var p=r.createContext({}),c=function(e){var n=r.useContext(p),t=n;return e&&(t="function"==typeof e?e(n):o(o({},n),e)),t},l=function(e){var n=c(e.components);return r.createElement(p.Provider,{value:n},e.children)},d={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},u=r.forwardRef((function(e,n){var t=e.components,a=e.mdxType,s=e.originalType,p=e.parentName,l=i(e,["components","mdxType","originalType","parentName"]),u=c(t),m=a,h=u["".concat(p,".").concat(m)]||u[m]||d[m]||s;return t?r.createElement(h,o(o({ref:n},l),{},{components:t})):r.createElement(h,o({ref:n},l))}));function m(e,n){var t=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var s=t.length,o=new Array(s);o[0]=u;var i={};for(var p in n)hasOwnProperty.call(n,p)&&(i[p]=n[p]);i.originalType=e,i.mdxType="string"==typeof e?e:a,o[1]=i;for(var c=2;c<s;c++)o[c]=t[c];return r.createElement.apply(null,o)}return r.createElement.apply(null,t)}u.displayName="MDXCreateElement"},90648:function(e,n,t){t.r(n),t.d(n,{assets:function(){return l},contentTitle:function(){return p},default:function(){return m},frontMatter:function(){return i},metadata:function(){return c},toc:function(){return d}});var r=t(87462),a=t(63366),s=(t(67294),t(3905)),o=["components"],i={id:"7-29-understanding-prop-chain-problems",title:"7.29 Understanding Prop Chain Problems",date:new Date("2021-04-08T23:39:03.000Z")},p=void 0,c={unversionedId:"react-complete-guide/07-diving-deeper-into-components-and-react-internals/7-29-understanding-prop-chain-problems",id:"react-complete-guide/07-diving-deeper-into-components-and-react-internals/7-29-understanding-prop-chain-problems",title:"7.29 Understanding Prop Chain Problems",description:"From A -> B -> C -> D",source:"@site/courses/react-complete-guide/07-diving-deeper-into-components-and-react-internals/7-29-understanding-prop-chain-problems.md",sourceDirName:"react-complete-guide/07-diving-deeper-into-components-and-react-internals",slug:"/react-complete-guide/07-diving-deeper-into-components-and-react-internals/7-29-understanding-prop-chain-problems",permalink:"/hm/courses/react-complete-guide/07-diving-deeper-into-components-and-react-internals/7-29-understanding-prop-chain-problems",draft:!1,editUrl:"https://github.com/papa31/hm/edit/documentation/courses/react-complete-guide/07-diving-deeper-into-components-and-react-internals/7-29-understanding-prop-chain-problems.md",tags:[],version:"current",lastUpdatedBy:"PaPa31",lastUpdatedAt:1631602446,formattedLastUpdatedAt:"9/14/2021",frontMatter:{id:"7-29-understanding-prop-chain-problems",title:"7.29 Understanding Prop Chain Problems",date:"2021-04-08T23:39:03.000Z"},sidebar:"Docs",previous:{title:"7.28 Refs With React Hooks",permalink:"/hm/courses/react-complete-guide/07-diving-deeper-into-components-and-react-internals/7-28-refs-with-react-hooks"},next:{title:"7.30 Using Context API",permalink:"/hm/courses/react-complete-guide/07-diving-deeper-into-components-and-react-internals/7-30-using-context-api"}},l={},d=[{value:"From A -&gt; B -&gt; C -&gt; D",id:"from-a---b---c---d",level:2},{value:"App.js",id:"appjs",level:2},{value:"Persons.js",id:"personsjs",level:2},{value:"Person.js",id:"personjs",level:2}],u={toc:d};function m(e){var n=e.components,t=(0,a.Z)(e,o);return(0,s.kt)("wrapper",(0,r.Z)({},u,t,{components:n,mdxType:"MDXLayout"}),(0,s.kt)("h2",{id:"from-a---b---c---d"},"From A -> B -> C -> D"),(0,s.kt)("p",null,"Let's say now we also manage some authentication status in this application. And I want to output whether we're authenticated down here in my person component, I want to manage the authentication in the cockpit though. So in the cockpit component, I'll add another extra button..."),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-jsx",metastring:'title="Cockpit.js" {10}',title:'"Cockpit.js"',"{10}":!0},'...\n\n  return (\n    <div className={classes.Cockpit}>\n      <h1>{props.title}</h1>\n      <p className={assignedClasses.join(" ")}>This is really working!</p>\n      <button ref={toggleBtnRef} className={btnClass} onClick={props.clicked}>\n        Toggle Persons\n      </button>\n      <button onClick={props.login}>Log in</button>\n    </div>\n  );\n};\n\nexport default React.memo(cockpit);\n')),(0,s.kt)("h2",{id:"appjs"},"App.js"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-jsx",metastring:'title="App.js" {10,15-17,27,41}',title:'"App.js"',"{10,15-17,27,41}":!0},'...\n  state = {\n    persons: [\n      { id: "20210330005200", name: "Max", age: 28 },\n      { id: "20210330005205", name: "Manu", age: 29 },\n      { id: "20210330005209", name: "Stephanie", age: 26 },\n    ],\n    showCockpit: true,\n    changeCounter: 0,\n    authenticated: false,\n  };\n\n...\n\n  loginHandler = () => {\n    this.setState({ authenticated: true });\n  };\n\n  render() {\n\n...\n\n        <Persons\n          persons={this.state.persons}\n          clicked={this.deletePersonHandler}\n          changed={this.nameChangedHandler}\n          isAuthenticated={this.state.authenticated}\n        />\n      );\n    }\n\n    return (\n\n...\n\n          <Cockpit\n            title={this.props.appTitle}\n            personsLength={this.state.persons.length}\n            showPersons={this.state.showPersons}\n            clicked={this.togglePersonsHandler}\n            login={this.loginHandler}\n          />\n        ) : null}\n        {persons}\n      </Aux>\n    );\n  }\n}\n\nexport default withClass(App, classes.App);\n')),(0,s.kt)("h2",{id:"personsjs"},"Persons.js"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-jsx",metastring:'title="Persons.js" {10}',title:'"Persons.js"',"{10}":!0},"...\n\n      return (\n        <Person\n          click={() => this.props.clicked(index)}\n          name={person.name}\n          age={person.age}\n          key={person.id}\n          changed={(event) => this.props.changed(event, person.id)}\n          isAuth={this.props.isAuthenticated}\n        />\n      );\n    });\n  }\n}\nexport default Persons;\n")),(0,s.kt)("h2",{id:"personjs"},"Person.js"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-jsx",metastring:'title="Person.js" {5}',title:'"Person.js"',"{5}":!0},'...\n\n    return (\n      <Fragment>\n        {this.props.isAuth ? <p>Authenticated!</p> : <p>Please log in</p>}\n        <p key="i1" onClick={this.props.click}>\n          I\'m {this.props.name} and I am {this.props.age} years old!\n        </p>\n        <p key="i2">{this.props.children}</p>\n        <input\n          key="i3"\n          ref={this.inputElementRef}\n          type="text"\n          onChange={this.props.changed}\n          value={this.props.name}\n        />\n      </Fragment>\n    );\n  }\n}\n\n...\n\nexport default withClass(Person, classes.Person);\n')),(0,s.kt)("p",null,"Yet I am not really happy with my set up here, because we're passing down props across multiple levels, and, for example, the persons component really only forwards the authentication status. It receives is authenticated as a prop, but it doesn't really care and this is not so great, because it simply leads to extra redundancy, and it makes our components a bit less reusable, because wherever we're using the persons component, we have to make sure we pass in isAuthenticated, so that we can forward it and there."),(0,s.kt)("p",null,"We have a feature called ",(0,s.kt)("inlineCode",{parentName:"p"},"context")," which helps us solve the issue."))}m.isMDXComponent=!0}}]);